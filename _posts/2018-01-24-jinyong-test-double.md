---
layout: post
title: 我聊的不是金庸 是測試替身
comments: True 
subtitle: test doubles - jinyong character
tags: unitTest
author: jyt0532
---
看這篇文章前 建議先看過 [何謂測試替身](/2017/12/15/test-doubles/) 
[射雕英雄傳](http://www.millionbook.net/wx/j/jingyong/sdyxz/index.html)
[神鵰俠侶](http://www.millionbook.net/wx/j/jingyong/sdxl/index.html) 
[倚天屠龍記](http://www.millionbook.net/wx/j/jingyong/yttlj/index.html)

最近在研讀測試替身 越讀越覺得跟以前讀的金庸小說的某些人物能夠類比 

且聽我娓娓道來 

## Fake

![Alt text]({{ site.url }}/public/jinyong1.jpg)

裘千丈 射雕英雄傳的搞笑咖 弟弟裘千仞是鐵掌幫幫主 綽號鐵掌水上飄 武功直逼中原五絕 但哥哥整天不求上進 假扮成是弟弟招搖撞騙
後來被妙手書生朱聰識破 原來之前的輕功是在水裡打木樁等等 最後想跟黃蓉乘大鵰離開鐵掌峰時沒抓好 刷下山谷 

用裘千丈來比擬[Fake](/2018/01/10/test-double-fake/) 實在適合 裘千丈就是個假的 簡單版 廢版的裘千仞


> 裘千丈面不紅，耳不赤，洋洋自如，說道：「人家愛怎生叫就怎生叫，你管得著麼？十尺為丈，七尺為仞，倒還是『千丈』比『千仞』長了三千尺。」

## Stub
 
![Alt text]({{ site.url }}/public/jinyong2.jpg)

阿朱 段正淳女兒 擅長易容 某次假扮成少林僧人想偷去易筋經而受傷 喬峰照顧了他好一陣子 之後萌生愛意 但之後喬峰要找尋殺父仇人時 以為殺父仇人是段正淳

阿朱為了不要讓自己心愛的人跟他親生父親衝突 易容成段正淳後被喬峰打死

擅長易容的阿朱就如同[Stub](/2017/12/18/test-double-stub/) 喬峰就是SUT 段正淳就是DOC 因為輸入輸出一樣 所以可以讓SUT以為STUB是DOC

> 阿朱就是阿朱。四海列國，千秋萬代，就只有一個阿朱。

## Spy

![Alt text]({{ site.url }}/public/jinyong3.jpeg)

韋小寶 麗春院妓女韋春花之子 12歲到北京 冒充太監小桂子之後 變成皇上(康熙)好朋友 幫助他殺了鰲拜 又拜陳近南為師 成為天地會青木堂堂主 金庸主角裡面唯一不會武功的 但是膽識過人加上聰明機智 每次都化險為夷 最重要的是還有七個老婆

最後天地會跟康熙開打的時候 兩邊都要求他幹掉對面 韋小寶兩面不是人 最後退隱江湖

要講到金庸的角色是[Spy](/2018/01/04/test-double-spy/) 除了韋小寶不作第二人選

> 老皇帝，俗話說，救人三命盛造三七二十一級糊塗！

## Mock 

![Alt text]({{ site.url }}/public/jinyong4.jpeg)

謝遜 明教四大護教法王之一 張無忌義父 28歲時 其師傅成昆殺了謝遜全家 謝遜誓言報仇 但兩次敗於成昆手下 於是便在江湖上到處殺人 留下"殺人者混元霹靂手成昆" 企圖引出成昆 但也因此成為武林公敵 

和成昆決一死戰時 將成昆雙目刺瞎 用七傷拳讓成昆經脈盡斷 然後自廢武功


那謝遜跟[Mock](/2017/12/23/test-double-mock/)有什麼關係呢? 當你mock一個物件之後 他的所有函式都回傳預設值 除非你另外再Stub某個函式 不然就好像武功全失一樣

> 你殺我全家，我今日毀你雙目，廢去你的一身武功，以此相報。師父，我一身武功是你所授，今日我自行盡數毀了，還了給你，從此你和我無恩無怨，你永遠瞧不見我,我也永遠瞧不見你

## Dummy 

郭破虜
![Alt text]({{ site.url }}/public/jinyong5.jpeg)

要說到金庸筆下最冗的角色 絕對是郭破虜 沒有之一 就連我要找個劇照都找不到

這位仁兄身世顯赫 老爸是一代大俠郭靖 老媽是黃蓉 外公是東邪黃藥師 大姐身懷絕技可以砍了楊過一隻手 姐夫更是老頑童的入室弟子 並接替魯有腳成為丐幫幫主 二姐受盡大家喜愛 最後還創了峨眉派

那這位仁兄 你是哪位？

好啦我們不要忘了這位仁兄的貢獻 記不記得我們講到dummy的時候 我們需要一個api需要 但以後又不會用到的變數 這就是dummy

在郭靖要砍下郭芙的手來管教女兒的時候 黃蓉衝了進來 把一個嬰兒塞給郭靖之後 偷點郭靖的穴道才把郭芙救出來 這個嬰兒就是郭破虜 

有沒有發現這完完全全符合我們[Dummy](/2017/12/16/test-double-dummy/)的需要 我們需要有一個仁兄轉移郭靖的注意力 可是以後又不會用到


> 黃蓉嘆了口氣，道：「好罷，由得你便了！」伸手去接抱兒子郭破虜。郭靖將嬰兒遞了過去，臉有歉意，說道：「蓉兒，是我對你不住。但芙兒受罰之後，雖然殘廢，只要她痛改前非，於她也未始沒有好處……」 
　　黃蓉點頭道：「那也說得是！」雙手剛碰到兒子的襁褓，突然一沉，插到了郭靖脅下，使出家傳「蘭花拂穴手」絕技，在他左臂下「淵液穴」、右臂下「京門穴」同時一拂。這兩處穴道都在手臂之下，以郭靖此時武功，黃蓉若非使詐，焉能拂他得著？但當她將兒子交與丈夫之時，已然安排了這後著。郭靖遇到妻子，當真是縛手縛腳，登時全身酸麻，倒在床上，動彈不得。 

金庸筆下最冗角色 郭破虜 當之無愧
